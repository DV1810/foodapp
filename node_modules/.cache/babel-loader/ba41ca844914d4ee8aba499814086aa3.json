{"ast":null,"code":"var _jsxFileName = \"/home/ajivainfotech/Devanshu/foodapp/src/components/Add.js\";\nimport React, { useState, useEffect, Component } from 'react';\nimport Axios from \"axios\";\nimport { NavLink } from 'react-router-dom'; //import './Customstyle.css';\n\nimport Select from 'react-select'; //import Footer from '../components/Footer';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UserForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = e => {\n      // const id = this.props.match.params.id;\n      this.getOptions();\n    };\n\n    this.getonchange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      }, () => {\n        console.log(this.state, \"************\");\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const serverPort = { ...this.state\n      };\n      Axios.post(\"http://localhost:4400/user\", serverPort).then(res => console.log(res.data));\n      e.preventDefault();\n\n      if (this.validateForm()) {\n        let fields = {};\n        fields[\"name\"] = \"\";\n        fields[\"email\"] = \"\";\n        fields[\"phone\"] = \"\";\n        fields[\"password\"] = \"\";\n        this.setState({\n          fields: fields\n        });\n        alert(\"Form submitted\");\n      } // this.props.history.push(\"/Userlist\");\n\n    };\n\n    this.state = {\n      selectOptions: [],\n      id: \"\",\n      fields: {},\n      role_id: \"\",\n      token: \"\",\n      errors: {}\n    };\n  }\n\n  async getOptions() {\n    Axios.get(\"http://localhost:4400/userrole/all\").then(res => {\n      console.log(res);\n\n      if (res.status == 200) {\n        this.setState({\n          post: res.data\n        });\n        const data = res.data;\n        const options = data.map(d => ({\n          \"value\": d.id,\n          \"label\": d.name\n        }));\n        this.setState({\n          selectOptions: options\n        });\n      }\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      id: e.value,\n      name: e.label\n    });\n  }\n\n  validateForm() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n\n    if (this.state.name == '' || this.state.name == undefined) {\n      formIsValid = false;\n      errors[\"name\"] = \"*Please enter your name.\";\n    } else {\n      errors[\"name\"] = \"\";\n    }\n\n    if (this.state.email == '' || this.state.email == undefined) {\n      formIsValid = false;\n      errors[\"email\"] = \"*Please enter your email-ID.\";\n    } else {\n      errors[\"email\"] = \"\";\n    }\n\n    if (new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g).test(this.state.email) == false) {\n      formIsValid = false;\n      errors[\"email\"] = \"*Please enter valid email-ID.\";\n    } else {\n      errors[\"email\"] = \"\";\n    }\n\n    if (this.state.phone == '' || this.state.phone == undefined) {\n      formIsValid = false;\n      errors[\"phone\"] = \"*Please enter your mobile no.\";\n    } else {\n      errors[\"phone\"] = \"\";\n    }\n\n    if (typeof this.state.phone !== \"undefined\") {\n      var pattern = new RegExp(/^[0-9\\b]+$/);\n\n      if (!pattern.test(this.state.phone)) {\n        formIsValid = false;\n        errors[\"phone\"] = \"Please enter only number.\";\n      } else if (this.state.phone.length != 10) {\n        formIsValid = false;\n        errors[\"phone\"] = \"Please enter valid phone number.\";\n      }\n    }\n\n    if (this.state.password == '' || this.state.password == undefined) {\n      formIsValid = false;\n      errors[\"password\"] = \"*Please enter your password.\";\n    } else {\n      errors[\"password\"] = \"\";\n    } // if (typeof fields[\"password\"] !== \"undefined\") {\n    //   if (!fields[\"password\"].match(/^.*(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)) {\n    //     formIsValid = false;\n    //     errors[\"password\"] = \"*Please enter secure and strong password.\";\n    //   }\n    // }\n\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  render() {\n    console.log(this.state.selectOptions);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-user\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"User Registeration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \" Name: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              id: \"name\",\n              value: this.state.name,\n              onChange: this.getonchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errorMsg\",\n            children: this.state.errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              id: \"email\",\n              value: this.state.email,\n              onChange: this.getonchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errorMsg\",\n            children: this.state.errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Password: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 36\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              value: this.state.password,\n              onChange: this.getonchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errorMsg\",\n            children: this.state.errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Phone: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"phone\",\n              id: \"phone\",\n              value: this.state.phone,\n              onChange: this.getonchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errorMsg\",\n            children: this.state.errors.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Role_id: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"role_id\",\n              id: \"role_id\",\n              value: this.state.role_id,\n              onChange: this.getonchange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              class: \"btn btn-info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/ajivainfotech/Devanshu/foodapp/src/components/Add.js"],"names":["React","useState","useEffect","Component","Axios","NavLink","Select","UserForm","constructor","props","componentDidMount","e","getOptions","getonchange","setState","target","name","value","console","log","state","onSubmit","preventDefault","serverPort","post","then","res","data","validateForm","fields","alert","selectOptions","id","role_id","token","errors","get","status","options","map","d","handleChange","label","formIsValid","undefined","email","RegExp","test","phone","pattern","length","password","render"],"mappings":"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","sourcesContent":["import React, {useState,useEffect, Component } from 'react'\nimport Axios from \"axios\";\nimport { NavLink } from 'react-router-dom';\n//import './Customstyle.css';\nimport Select from 'react-select';\n//import Footer from '../components/Footer';\n\nexport default class UserForm extends Component {\n \n    constructor(props) {\n     \n        super(props);\n        this.state = {\n          selectOptions : [],\n          id: \"\",\n          fields:{},\n          role_id:\"\",\n          token:\"\",\n          errors:{}\n        };\n       \n      }\n      async getOptions(){\n        Axios.get(\"http://localhost:4400/userrole/all\")\n          .then(res => {\n            console.log(res);\n            if (res.status == 200) {\n              this.setState({ post: res.data });\n              const data = res.data\n              const options = data.map(d => ({\n                \"value\" : d.id,\n                \"label\" : d.name\n          \n              }))\n              this.setState({selectOptions: options})\n            }\n          })\n        }\n    \n      handleChange(e){\n       this.setState({id:e.value, name:e.label})\n      }\n    \n    \n\n     componentDidMount = e => {\n       \n        // const id = this.props.match.params.id;\n        this.getOptions()\n       \n       };\n      \n      getonchange=(e)=>{\n        this.setState({[e.target.name]:e.target.value},()=>{\n            console.log(this.state,\"************\")\n        })\n      }\n      onSubmit = e => {\n        e.preventDefault();\n        const serverPort = { ...this.state };\n        Axios.post(\"http://localhost:4400/user\", serverPort).then(res =>\n          console.log(res.data)\n        );\n        e.preventDefault();\n        if (this.validateForm()) {\n            let fields = {};\n            fields[\"name\"] = \"\";\n            fields[\"email\"] = \"\";\n            fields[\"phone\"] = \"\";\n            fields[\"password\"] = \"\";\n            this.setState({fields:fields});\n            alert(\"Form submitted\");\n        }\n       // this.props.history.push(\"/Userlist\");\n        \n        \n      };\n\n      \n    validateForm() {\n\n      let fields = this.state.fields;\n      let errors = {};\n      let formIsValid = true;\n     \n    \n      if (this.state.name == '' || this.state.name == undefined) {\n        formIsValid = false;\n        errors[\"name\"] = \"*Please enter your name.\";\n      }else{\n        errors[\"name\"] = \"\";\n      }\n\n\n      if (this.state.email == '' || this.state.email == undefined) {\n        formIsValid = false;\n        errors[\"email\"] = \"*Please enter your email-ID.\";\n      }else{\n        errors[\"email\"] = \"\";\n      }\n\n      if(new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g).test(this.state.email) == false){\n        formIsValid = false;\n        errors[\"email\"] = \"*Please enter valid email-ID.\";\n      }else{\n        errors[\"email\"] = \"\";\n      }\n     \n\n      if (this.state.phone == '' || this.state.phone == undefined) {\n        formIsValid = false;\n        errors[\"phone\"] = \"*Please enter your mobile no.\";\n      }else{\n        errors[\"phone\"] = \"\";\n      }\n\n      if (typeof this.state.phone !== \"undefined\") {\n        var pattern = new RegExp(/^[0-9\\b]+$/);\n        if (!pattern.test(this.state.phone)) {\n          formIsValid = false;\n          errors[\"phone\"] = \"Please enter only number.\";\n        }else if(this.state.phone.length != 10){\n          formIsValid = false;\n          errors[\"phone\"] = \"Please enter valid phone number.\";\n        }\n      }\n\n      if (this.state.password == '' || this.state.password == undefined) {\n        formIsValid = false;\n        errors[\"password\"] = \"*Please enter your password.\";\n      }else{\n        errors[\"password\"] = \"\";\n      }\n\n      // if (typeof fields[\"password\"] !== \"undefined\") {\n      //   if (!fields[\"password\"].match(/^.*(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)) {\n      //     formIsValid = false;\n      //     errors[\"password\"] = \"*Please enter secure and strong password.\";\n      //   }\n      // }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n\n\n    }\n\n      \n    render() {\n      console.log(this.state.selectOptions)\n        return (\n            <div>\n              \n \n\n  \n       \n \n\n\n  <div class=\"form-user\">\n    <h1>User Registeration</h1>\n    <form onSubmit={this.onSubmit} >\n        <div className=\"form-group\">\n          <label> Name: </label><br/>\n          <input\n            type=\"text\" name=\"name\" id=\"name\"\n            value={this.state.name}\n              \n            onChange={this.getonchange}\n                />\n        \n        </div>\n        <div className=\"errorMsg\">{this.state.errors.name}</div>\n        <div >\n          <label>Email: </label><br/>\n          <input\n            type=\"text\" name=\"email\" id=\"email\"\n            value={this.state.email}\n              \n            onChange={this.getonchange}\n          />\n        </div>\n        <div className=\"errorMsg\">{this.state.errors.email}</div>\n        <div >\n          <label>Password: </label><br/>\n          <input\n            type=\"password\" name=\"password\" id=\"password\"\n            value={this.state.password}\n              \n            onChange={this.getonchange}\n        />\n        </div>\n        <div className=\"errorMsg\">{this.state.errors.password}</div>\n        <div >\n        <label>Phone: </label><br/>\n        <input\n            type=\"text\" name=\"phone\" id=\"phone\"\n            value={this.state.phone}\n              \n            onChange={this.getonchange}\n        />\n        </div>\n        <div className=\"errorMsg\">{this.state.errors.phone}</div>\n        <div >\n        <label>Role_id: </label>\n        <input\n            type=\"text\" name=\"role_id\" id=\"role_id\"\n            value={this.state.role_id}\n              \n            onChange={this.getonchange}\n        />\n        </div>\n    \n    \n     \n      \n    \n        <div >\n        <input\n            type=\"submit\"\n            class=\"btn btn-info\"\n        />\n        </div>\n    </form>      \n  </div>\n   \n    \n</div>  \n            \n      \n        \n\n    \n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}